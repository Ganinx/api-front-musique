
<div class="ligne" *ngIf="isLoading">
  <div style="margin: auto; margin-bottom: 0">
    <p>chargement...</p>
    <mat-spinner style="margin: auto"></mat-spinner>
  </div>
</div>

<mat-card *ngIf="!isLoading">
  <mat-card-title class="my-3">Connexion</mat-card-title>
  <mat-card-content>
    <form #loginForm="ngForm" (submit)="submit()">
      <p>
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input name="email" #email="ngModel" [(ngModel)] ="user.email" type="email" matInput placeholder="Email" required >
          <mat-error *ngIf="!email.valid">
            Veuillez saisir un email
          </mat-error>
        </mat-form-field>
      </p>

      <mat-form-field class="mb-2">
        <mat-label>Password</mat-label>
        <input name="password" #password = "ngModel" [(ngModel)] ="user.password" type="password" matInput placeholder="Password" required >
        <mat-error *ngIf="!password.valid">
          Veuillez saisir un mot de passe
        </mat-error>
      </mat-form-field>


      <div class="text-danger mb-2" *ngIf="error">
        Identifiants incorrect
      </div>

      <div class="d-flex">
        <div class="d-block">
          <button [routerLink]="['/register']" mat-raised-button color="warn" class="me-1" >Cr√©er un compte</button>
        </div>
        <div>
          <button [disabled]="!loginForm.valid" type="submit" mat-raised-button color="primary" class="ms-1" >Connexion</button>
        </div>
      </div>

    </form>

  </mat-card-content>
</mat-card>
